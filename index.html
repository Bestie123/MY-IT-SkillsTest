<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Learning Structure</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>Tech Structure</h2>
                <p>–°–∏—Å—Ç–µ–º–∞ –æ–±—É—á–µ–Ω–∏—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º</p>
            </div>
            
            <div class="sidebar-section">
                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏</h3>
                <button class="sidebar-btn" onclick="uiManager.showModal('categoryModal')">
                    <span class="icon">+</span> –ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
                </button>
                <button class="sidebar-btn" onclick="authManager.loadFromGitHub()">
                    <span class="icon">üì•</span> –ó–∞–≥—Ä—É–∑–∏—Ç—å
                </button>
                <button class="sidebar-btn" onclick="authManager.saveToGitHub()">
                    <span class="icon">üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <button class="sidebar-btn" id="autoSaveBtn" onclick="authManager.toggleAutoSave()">
                    <span class="icon">‚≠ï</span> –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                </button>
            </div>

            <div class="sidebar-section">
                <h3>GitHub</h3>
                <div class="auth-inputs">
                    <input type="password" id="githubToken" placeholder="GitHub Token">
                    <input type="text" id="repoOwner" placeholder="–í–ª–∞–¥–µ–ª–µ—Ü">
                    <input type="text" id="repoName" placeholder="–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π">
                    <button class="sidebar-btn small" onclick="authManager.saveAuth()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button class="sidebar-btn small" onclick="authManager.testAuth()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                </div>
                <div id="authStatus" class="auth-status"></div>
            </div>

            <div class="sidebar-section">
                <h3>–≠–∫—Å–ø–æ—Ä—Ç/–ò–º–ø–æ—Ä—Ç</h3>
                <button class="sidebar-btn" onclick="dataManager.exportToJSON()">
                    <span class="icon">üì§</span> –≠–∫—Å–ø–æ—Ä—Ç JSON
                </button>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ -->
        <div class="main-content">
            <div class="content-header">
                <div class="breadcrumb" id="breadcrumb">
                    <span class="breadcrumb-item" onclick="navigation.resetView()">–í—Å–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</span>
                </div>
                <div class="header-actions">
                    <button class="btn primary" onclick="uiManager.showModal('categoryModal')">+ –ö–∞—Ç–µ–≥–æ—Ä–∏—è</button>
                    <button class="btn" onclick="uiManager.showAddNodeModal()">+ –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è</button>
                    <button class="btn" onclick="uiManager.showAddTechModal()">+ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è</button>
                </div>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã -->
            <div class="structure-container">
                <div id="structureContent" class="structure-content">
                    <!-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="categoryModal" class="modal">
        <div class="modal-content">
            <h3>–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
            <input type="text" id="newCategoryName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏">
            <div class="modal-actions">
                <button class="btn primary" onclick="dataManager.addCategory()">–°–æ–∑–¥–∞—Ç—å</button>
                <button class="btn" onclick="uiManager.hideModals()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div id="nodeModal" class="modal">
        <div class="modal-content">
            <h3>–ù–æ–≤–∞—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
            <div id="nodeParentSelect" class="parent-select"></div>
            <input type="text" id="newNodeName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏">
            <div class="modal-actions">
                <button class="btn primary" onclick="dataManager.addNode()">–°–æ–∑–¥–∞—Ç—å</button>
                <button class="btn" onclick="uiManager.hideModals()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div id="techModal" class="modal">
        <div class="modal-content">
            <h3>–ù–æ–≤–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è</h3>
            <div id="techParentSelect" class="parent-select"></div>
            <input type="text" id="newTechName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏">
            <div class="modal-actions">
                <button class="btn primary" onclick="dataManager.addTechnology()">–°–æ–∑–¥–∞—Ç—å</button>
                <button class="btn" onclick="uiManager.hideModals()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div id="checklistModal" class="modal">
        <div class="modal-content wide">
            <div class="modal-header">
                <h3 id="checklistTitle">–ß–µ–∫-–ª–∏—Å—Ç</h3>
                <button class="btn close" onclick="uiManager.hideModals()">√ó</button>
            </div>
            <div id="checklistStats" class="checklist-stats"></div>
            <div id="checklistItems" class="checklist-items"></div>
            <div class="checklist-add">
                <input type="text" id="newChecklistItem" placeholder="–ù–æ–≤—ã–π –ø—É–Ω–∫—Ç —á–µ–∫-–ª–∏—Å—Ç–∞">
                <button class="btn primary" onclick="checklistManager.addChecklistItem()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="jsonSection" class="modal">
        <div class="modal-content wide">
            <h3>JSON –¥–∞–Ω–Ω—ã–µ</h3>
            <textarea id="jsonOutput"></textarea>
            <div class="modal-actions">
                <button class="btn" onclick="dataManager.copyToClipboard()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                <button class="btn" onclick="dataManager.importFromJSONText()">–ò–º–ø–æ—Ä—Ç</button>
                <button class="btn" onclick="uiManager.hideModals()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="js/data-manager.js"></script>
    <script src="js/auth-manager.js"></script>
    <script src="js/navigation-manager.js"></script>
    <script src="js/ui-manager.js"></script>
    <script src="js/checklist-manager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>